<!DOCTYPE html>
<html>
	<head>
		<meta charset="euc-kr">
		<title></title>
		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<script src="http://malsup.github.com/jquery.form.js"></script> 
		<script type="text/javascript">
				function loadAjax() {	
					console.log("before start!");
					
					$("#frm").ajaxForm({
						async:true,
						//cache:false,
						type:"POST",
						url:"./ajax_ex_7.jsp",
						beforeSend:function(){
							//alert(1);
							console.log("beforeSend");
						},
						success:function (data) {
							console.log(data);
						},
						error:function (xhr, status, error) {
							console.log("에러발생");
							console.log("xhr:" + JSON.stringify(xhr));
							console.log("status:" + status);
							console.log("error:" + error);
						},
						complete:function (event, request, settings) {
							console.log("완료");
							console.log("event:" + JSON.stringify(event));
							console.log("request:" + request);
							console.log("settings:" + settings);

							//0: 정보를 전달할 request 객체는 생성이 되었지만 시작할 open() 이전 상태
							//1: request객체도 생성, open() 되어있지만 아직 값을 전달할 send()
							//2: send() 했지만 서버에서 데이터를 전달받지 못한상태
							//3: 데이터를 일부 받았음
							//4: 데이터 전체 수신
						}
					}).submit();
					
					console.log("end line!");
				}
		</script>
	</head>
	<body>
		<h1>Ajax 예제(xml데이타)</h1>
		<div id="report">
		
		</div>
		<p>
		<input type="button" value="ajax확인" onclick="loadAjax()">
		
		<form id="frm">
			<p>
				num : <input type="text" name="num" value="">
			<p>
				name : <input type="text" name="name" value="">
		</form>
	</body>
</html>
