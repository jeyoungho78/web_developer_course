<!DOCTYPE html>
<html>
	<head>
		<meta charset="euc-kr">
		<title></title>
		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<script type="text/javascript">
				function loadAjax() {
					var jsonData = {};
					jsonData.name = $("input[name='name']").val();
					jsonData.num = $("input[name='num']").val();
					
					jQuery.ajax({
						type:"POST",
						url:"./ajax.jsp",
						data:jsonData,
						dataType:"json",
						success:function (data) {
							console.log("성공");
							//var retVal = JSON.parse(data);
							$("#disp").html("서버에서 받은 값 : <B>" + data.name + "</B>");
						},
						error:function (xhr, status, error) {
							console.log("에러발생");
							console.log("xhr:" + JSON.stringify(xhr));
							console.log("status:" + status);
							console.log("error:" + error);
						},
						complete:function (event, request, settings) {
							console.log("완료");
							console.log("event:" + JSON.stringify(event));
							console.log("request:" + request);
							console.log("settings:" + settings);

							//0: 정보를 전달할 request 객체는 생성이 되었지만 시작할 open() 이전 상태
							//1: request객체도 생성, open() 되어있지만 아직 값을 전달할 send()
							//2: send() 했지만 서버에서 데이터를 전달받지 못한상태
							//3: 데이터를 일부 받았음
							//4: 데이터 전체 수신
						}
					});

				}
		</script>
	</head>
	<body>
		<form>
			num : <input type="text" name="num" value="">
			<p>
			name : <input type="text" name="name" value="">
			<input type="button" name="button" value="ajax실행" onclick="javascript:loadAjax()">
			<p>
			<div id="disp"></div>

		</form>
	</body>
</html>
